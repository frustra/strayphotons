{
	"priority": "Player",
	"libraries": ["camera_view", "game_scripts"],
	"entities": [
		{
			"name": "gui:menu",
			"render_output": {
				"source": "/ent:player:flatview",
				"effect": "background_blur",
				"effect_if": "is_focused(Menu)"
			}
		},
		{
			"name": "player",
			"transform": {},
			"physics_joints": {},
			"character_controller": {
				"head": "head"
			},
			"trigger_group": "Player",
			"event_input": {},
			"signal_output": {}
		},
		{
			"name": "flatorigin",
			"transform": {}
		},
		{
			"name": "flatview",
			"transform": {
				"parent": "head"
			},
			"view": {
				"clip": [0.05, 350],
				"visibility_mask": "DirectCamera"
			},
			"event_input": {},
			"render_output": {
				"gui_elements": ["editor:entity_picker", "editor:inspector"]
			}
		},
		{
			"name": "pointer",
			"transform": {
				"parent": "flathead"
			},
			"physics_query": {},
			"event_input": {},
			"signal_output": {},
			"script": {
				"name": "interact_handler",
				"parameters": {
					"noclip_entity": "player",
					"grab_distance": 2
				}
			}
		},
		{
			"name": "flathead",
			"transform": {
				"parent": "flatorigin",
				"translate": [0, 1.5, 0]
			},
			"physics_query": {},
			"event_input": {},
			"signal_output": {},
			"script": [
				{
					"name": "relative_movement",
					"parameters": {
						"relative_to": "flatview",
						"up_reference": "player"
					}
				},
				{
					"name": "camera_view"
				}
			]
		},
		{
			"name": "flashlight",
			"transform": {
				"parent": "pointer",
				"translate": [0, -0.3, 0]
			},
			"light": {
				"filter": "asset:textures/flashlight.png",
				"shadow_map_clip": [0.1, 64],
				"shadow_map_size": 11,
				"tint": [1, 1, 1]
			},
			"event_input": {},
			"signal_output": {
				"angle": 30,
				"intensity": 30,
				"on": 0
			},
			"script": {
				"name": "flashlight"
			}
		},
		{
			"name": "tray_attachment",
			"scene_connection": { "editor/tray": "0" },
			"transform": {
				"parent": "direction",
				"translate": [0, 1, -1]
			}
		}
	]
}
