{
	"entities": [
		{
			"_name": "elevator_zone",
			"signal_output": {},
			<%- include('prefab/laser_cube') %>,
			"transform": {
				"scale": [5, 164, 6],
				"translate": [0, 82, -0.5]
			},
			"trigger_area": {
				"player": {
					"signal": "playerPresent"
				}
			}
		},
		{
			"_name": "transition_zone",
			"signal_output": {},
			<%- include('prefab/laser_cube') %>,
			"transform": {
				"scale": [20, 40, 20],
				"translate": [0, 20, 0]
			},
			"trigger_area": {
				"player": {
					"signal": "playerPresent"
				}
			}
		},
		{
			"_name": "global.spawn",
			"transform": {
				"translate": [0, 160.05, -5],
				"rotate": [180, 0, 1, 0]
			},
			"voxels": {
				"min": [-5, -0, -5],
				"max": [5, 10, 5]
			}
		},
		{
			"__comment": "spoke1",
			"renderable": "box",
			"transform": {
				"scale": [320, 1, 1],
				"translate": [0, 160, 2]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "spoke2",
			"renderable": "box",
			"transform": {
				"scale": [320, 1, 1],
				"translate": [0, 160, 2],
				"rotate": [45, 0, 0, 1]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "spoke3",
			"renderable": "box",
			"transform": {
				"scale": [320, 6, 1],
				"translate": [0, 160, 2],
				"rotate": [90, 0, 0, 1]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "spoke3-1",
			"renderable": "box",
			"transform": {
				"scale": [155, 6, 1],
				"translate": [0, 82.5, -4],
				"rotate": [90, 0, 0, 1]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "spoke3-2",
			"renderable": "box",
			"transform": {
				"scale": [160, 1, 5],
				"translate": [3, 86, -1],
				"rotate": [90, 0, 0, 1]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "spoke3-3",
			"renderable": "box",
			"transform": {
				"scale": [160, 1, 5],
				"translate": [-3, 86, -1],
				"rotate": [90, 0, 0, 1]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "spoke4",
			"renderable": "box",
			"transform": {
				"scale": [320, 1, 1],
				"translate": [0, 160, 2],
				"rotate": [-45, 0, 0, 1]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		<%- include('prefab/ship_airlock', {
			name: 'ship_airlock',
			transform: {
				"translate": [0, 160, -5.1]
			},
			load_signal: {"playerPresent": "station-center.elevator_zone"}
		}) %>,
		{
			"_name": "elevator",
			"transform": {
				"translate": [0, 160, 0]
			},
			"animation": {
				"interpolation": "cubic",
				"states": [
					{
						"delay": 10,
						"translate": [0, 160, 0],
						"translate_tangent": [0, 0, 0]
					},
					{
						"delay": 10,
						"translate": [0, 120, 0],
						"translate_tangent": [0, -7, 0]
					},
					{
						"delay": 10,
						"translate": [0, 40, 0],
						"translate_tangent": [0, -7, 0]
					},
					{
						"delay": 10,
						"translate": [0, 0.1, 0],
						"translate_tangent": [0, 0, 0]
					}
				]
			},
			"signal_output": {}
		},
		{
			"_name": "elevator_platform",
			"renderable": "box",
			"transform": {
				"parent": "elevator",
				"translate": [0, 0, -1],
				"scale": [4, 0.1, 4]
			},
			"physics": {
				"model": "box",
				"kinematic": true
			},
            "trigger_group": "object"
		},
		{
			"_comment": "elevator_wall",
			"renderable": "box",
			"transform": {
				"parent": "elevator",
				"translate": [1.95, 2, -1],
				"scale": [0.1, 4, 4]
			},
			"physics": {
				"model": "box",
				"kinematic": true
			}
		},
		{
			"_comment": "elevator_wall2",
			"renderable": "box",
			"transform": {
				"parent": "elevator",
				"translate": [-1.95, 2, -1],
				"scale": [0.1, 4, 4]
			},
			"physics": {
				"model": "box",
				"kinematic": true
			}
		},
		<%- include('prefab/button', {
			name: 'elevator_button',
			transform: {
				"parent": "elevator",
				"translate": [1.95, 1.25, 0]
			},
			command: "setsignal station-center.elevator_door.door_open 0; setsignal station-center.ship_door.door_open 0; wait 500 togglesignal station-center.elevator.animation_state 0 100"
		}) %>,
		<%- include('prefab/slide_door', {
			scene: 'station-center',
			name: 'elevator_door',
			parent: 'elevator',
			translate: [0, 0.0, -2.9],
			rotate: [90, 0, 1, 0],
			scale: [1, 1.5, 2.3]
		}) %>,
		{
			"transform": {
				"parent": "elevator"
			},
			"laser_line": {
				"color": [0, 0, 1],
				"points": [
					[-1.95, 1.5, -2.9],
					[1.95, 1.5, -2.9]
				]
			}
		},
		{
			"_name": "elevator_open_zone",
			"transform": {
				"translate": [0, 0, 0],
				"scale": [3, 0.5, 3]
			},
			"signal_output": {},
			"trigger_area": {
				"object": {
					"command": "wait 1000 togglesignal station-center.elevator_door.door_open; wait 1100 togglesignal blackhole1.elevator_door.door_open"
				}
			}
		},
		<%- include('prefab/spotlight', {
			name: 'elevator_light',
			parent: 'elevator',
			tint: [1, 0.5, 0.5],
			intensity: 300,
			spotAngle: 50,
			translate: [0, 4, -1],
			rotate: [[270, 1, 0, 0]]
		}) %>,
		{
			"light": {
				"tint": [1, 0.5, 0.5],
				"intensity": 300,
				"spotAngle": 50,
				"shadowMapSize": 11,
				"shadowMapClip": [0.01, 50]
			},
			"transform": {
				"translate": [-4.8, 165.5, -2.7],
				"rotate": [-130, 1, 1, 0]
			}
		},
		{
			"_name": "global.transition1-center",
			"transform": {
				"translate": [0, 0, 0]
			},
			"scene_connection": "blackhole1",
			"signal_bindings": {
				"load_scene_connection": {"playerPresent": "station-center.transition_zone"}
			}
		}
	]
}
