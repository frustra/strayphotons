{
	"entities": [
		<%- include('prefab/airlock', {
			name: 'airlock1-2',
			translate: [0, 0.0, 1.5],
			rotate: [180, 0, 1, 0],
			scene_connection: "01-outside",
		}) %>,
		{
			"transform": {},
			"trigger_area": {},
			"trigger_group": "object",
			"event_bindings": {
				"/trigger/object/enter": {
					"target": "console:input/action/run_command",
					"set_value": "r.MirrorRecursion 1; setsignal global:airlock1-2-out/door_open 1; wait 2000 removescene 01-outside"
				}
			}
		},
		<%- include('prefab/airlock', {
			name: 'airlock2-3',
			translate: [10.5, 0, -3],
			rotate: [-90, 0, 1, 0],
			in_signal: "sensor2",
			scene_connection: "03-dark",
			trigger_command: "setsignal global:airlock2-3-in/door_open 0; addscene 03-dark"
		}) %>,
		{
			"__comment": "floor",
			"transform": {
				"translate": [-1.5, 0, -1.5]
			},
			"script": {
				"prefab": "tile",
				"parameters": {
					"surface": "floor_3x3",
					"axes": "xz",
					"count": [4, 3],
					"stride": [3, 3]
				}
			}
		},
		{
			"__comment": "floor2",
			"transform": {
				"translate": [-4.5, 0, 4.5]
			},
			"script": {
				"prefab": "tile",
				"parameters": {
					"surface": "floor_3x3",
					"axes": "xz",
					"count": [1, 1],
					"stride": [3, 3]
				}
			}
		},
		{
			"__comment": "ceiling",
			"transform": {
				"translate": [-4.5, 4, -1.5]
			},
			"script": {
				"prefab": "tile",
				"parameters": {
					"surface": "ceiling_3x3",
					"axes": "xz",
					"count": [5, 3],
					"stride": [3, 3]
				}
			}
		},

		<%- include("prefab/wall", {
			y: 0,
			points: [[6, 9], [-3, 9], [-3, 6], [0, 6], [0, 3, "wall-4x3-door"], [0, 0], [6, 0, "wall-4x3-door"], [6, 3], [6, 9]]
		}) %>,
		<%- include('prefab/slide_door', {
			scene: '02-mirrors',
			name: 'door1',
			translate: [6, 0.0, 1.5],
			rotate: [0, 0, 1, 0],
			input_signal: "sensor1"
		}) %>,

		{
			"name": "light1",
			"transform": {
				"translate": [3, 0.5, 0.1],
				"rotate": [[180, 0, 1, 0]]
			},
			"light": {
				"tint": [1, 0.8, 0.8],
				"intensity": 500,
				"spotAngle": 20
			},
			"script": {
				"prefab": "template",
				"parameters": { "source": "spotlight" }
			}
		},
		<%- include('prefab/light_sensor',
		{
			name: "sensor1",
			translate: [-2.9, 1, 7.5],
			rotate: [90, 0, 1, 0],
			trigger: 0.15
		}) %>,
		<%- include("prefab/cube", {
			name: "mirrorcube1",
			sides: 1,
			translate: [2, 0.5, 5],
			rotate: [-43, 0, 1, 0]
		}) %>,

		<%- include("prefab/wall", {
			y: 0,
			points: [[6, 9], [12, 9], [12, 6], [9, 6], [9, 3], [12, 3], [12, 0, "wall-4x3-door"], [9, 0], [6, 0]]
		}) %>,

		{
			"name": "light2",
			"transform": {
				"translate": [11.9, 0.5, 1.5],
				"rotate": [[90, 0, 1, 0]]
			},
			"light": {
				"tint": [0.8, 0.8, 1],
				"intensity": 500,
				"spotAngle": 20
			},
			"script": {
				"prefab": "template",
				"parameters": { "source": "spotlight" }
			}
		},
		<%- include('prefab/light_sensor',
		{
			name: "sensor2",
			translate: [11.9, 1, 7.5],
			rotate: [-90, 0, 1, 0],
			trigger: 0.015
		}) %>,
		<%- include("prefab/cube", {
			name: "mirrorcube2",
			sides: 1,
			translate: [7.8, 0.5, 5],
			rotate: [43, 0, 1, 0]
		}) %>,

		{
			"name": "global:spawn",
			"transform": {
				"rotate": [270, 0, 1, 0],
				"translate": [-1.7, 0.05, 1.4]
			}
		},
		{
			"transform": {
				"translate": [-3.1, -0.1, -0.1],
				"scale": [0.1, 0.1, 0.1]
			},
			"voxel_area": {
				"extents": [155, 50, 95]
			}
		}
	]
}
