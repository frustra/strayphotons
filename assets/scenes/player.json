{
    "entities": [
        {
            "name": "player",
            "transform": {},
            "character_controller": {
                "target": "vr-hmd",
                "fallback_target": "flatview",
                "movement_proxy": "vr-origin"
            },
            "trigger_group": "player",
            "event_input": [
                "/action/jump"
            ],
            "signal_output": {}
        },
        {
            "name": "flatview",
            "view": {
                "clip": [0.1, 350]
            },
            "transform": {
                "parent": "player",
                "translate": [0, 1.8, 0]
            },
            "script": {
                "onTick": ["joystick_calibration", "relative_movement", "camera_view", "grab_object"],
                "parameters": {
                    "scale_x": 20.0,
                    "scale_y": -20.0,
                    "relative_to": "player:flatview",
                    "view_sensitivity": 0.001,
                    "rotate_sensitivity": 0.01
                }
            },
            "event_input": [
                "/script/joystick_in",
                "/action/camera_rotate",
                "/action/interact_grab",
                "/action/interact_rotate"
            ],
            "event_bindings": {
                "/script/joystick_out": { "/action/camera_rotate": "player" }
            },
            "focus": "GAME",
            "physics_query": {
                "raycast": 2.0
            },
            "signal_output": {}
        },
        {
            "name": "debug-spawner",
            "event_input": [
                "/action/spawn"
            ],
            "script": {
                "onTick": "model_spawner",
                "parameters": {
                    "model": "cardboard-box",
                    "relative_to": "player:flatview",
                    "position_z": -2
                }
            }
        },
        {
            "name": "left-hand-input",
            "renderable": {
                "model": "box",
                "hidden": true
            },
            "transform": {
                "scale": [0.01, 0.01, 0.01],
                "rotate": [180, 0, 1, 0]
            },
            "script": {
                "onTick": ["auto_attach", "relative_movement"],
                "parameters": {
                    "attach_parent": "player:vr-controller-left",
                    "relative_to": "player:vr-hmd"
                }
            },
            "signal_output": {}
        },
        {
            "name": "right-hand-input",
            "renderable": {
                "model": "box",
                "hidden": true
            },
            "transform": {
                "scale": [0.01, 0.01, 0.01],
                "rotate": [180, 0, 1, 0]
            },
            "script": {
                "onTick": ["auto_attach", "relative_movement"],
                "parameters": {
                    "attach_parent": "player:vr-controller-right",
                    "relative_to": "player:vr-controller-right"
                }
            },
            "signal_output": {}
        },
        {
            "name": "left-hand",
            "physics": {
                "model": "box",
                "group": "player_hands",
                "constraint": "left-hand-input"
            },
            "transform": {
                "translate": [1, 1, 0],
                "scale": [0.05, 0.125, 0.2]
            }
        },
        {
            "transform": {
                "parent": "left-hand",
                "scale": [20, 8, 5],
                "translate": [0.2, -0.1, -0.3]
            },
            "renderable": {
                "hidden": true
            },
            "script": {
                "onTick": ["lazy_load_model"],
                "parameters": { "model_name": "vr_glove_left" }
            }
        },
        {
            "name": "right-hand",
            "physics": {
                "model": "box",
                "group": "player_hands",
                "constraint": "right-hand-input"
            },
            "transform": {
                "translate": [-1, 1, 0],
                "scale": [0.05, 0.125, 0.2]
            }
        },
        {
            "transform": {
                "parent": "right-hand",
                "scale": [20, 8, 5],
                "translate": [-0.2, -0.1, -0.3]
            },
            "renderable": {
                "hidden": true
            },
            "script": {
                "onTick": ["lazy_load_model"],
                "parameters": { "model_name": "vr_glove_right" }
            }
        },
        {
            "name": "flashlight",
            "transform": {
                "parent": "flatview",
                "translate": [0, -0.3, 0]
            },
            "signal_output": {
                "on": 0,
                "angle": 50,
                "intensity": 50
            },
            "focus": "GAME",
            "event_input": [
                "/action/flashlight/toggle",
                "/action/flashlight/grab"
            ],
            "script": {
                "onTick": "flashlight"
            },
            "light": {
                "tint": [1, 1, 1],
                "shadowMapSize": 11,
                "shadowMapClip": [0.1, 64]
            }
        }
    ]
}
