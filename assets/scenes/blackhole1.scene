{
	"entities": [
		{
			"name": "zone",
			"signal_output": {},
			"transform": {
				"scale": [10, 5, 10],
				"translate": [0, 2.5, 0]
			},
			"trigger_area": {}
		},
		<% for (var x = -4.5; x <= 4.5; x++) { %>
		{
			"__comment": "middle-floor",
			"renderable": "box",
			"transform": {
				"scale": [1, 0.1, 10],
				"translate": [<%= x %>, 0, 0]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "ceiling",
			"renderable": "box",
			"transform": {
		<% if (Math.abs(x) > 3) { %>
				"scale": [1, 0.1, 5],
				"translate": [<%= x %>, 5, 0]
		<% } else if (Math.abs(x) > 2) { %>
				"scale": [1, 0.1, 3.5],
				"translate": [<%= x %>, 5, 0.75]
		<% } else { %>
				"scale": [1, 0.1, 3],
				"translate": [<%= x %>, 5, 1]
		<% } %>
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "back-wall-middle",
			"renderable": "box",
			"transform": {
				"scale": [1, 2.5, 0.1],
				"translate": [<%= x %>, 1.25, 5]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "back-wall-top",
			"renderable": "box",
			"transform": {
				"scale": [1, 3.536, 0.1],
				"translate": [<%= x %>, 3.75, 3.75],
				"rotate": [-45, 1, 0, 0]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		<% } %>
		<% for (var x = -5; x <= 5; x += 10) { %>
		{
			"__comment": "divider-wall-front",
			"renderable": "box",
			"transform": {
				"scale": [0.1, 5.6, 2.5],
				"translate": [<%= x %>, 1.996, -2.63],
				"rotate": [26.5, 1, 0, 0]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "divider-wall-middle",
			"renderable": "box",
			"transform": {
				"scale": [0.1, 7.5, 2],
				"translate": [<%= x %>, 1.25, -1.5]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "divider-wall-top",
			"renderable": "box",
			"transform": {
				"scale": [0.1, 2.5, 1.5],
				"translate": [<%= x %>, 3.75, 0.25]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "divider-wall-back",
			"renderable": "box",
			"transform": {
				"scale": [0.1, 7.5, 4],
				"translate": [<%= x %>, 1.25, 3]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		<% } %>
		{
			"__comment": "elevator-frame",
			"renderable": "box",
			"transform": {
				"scale": [1, 5, 0.4],
				"translate": [-2.35, 2.5, -0.3]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "elevator-frame",
			"renderable": "box",
			"transform": {
				"scale": [1, 5, 0.4],
				"translate": [2.35, 2.5, -0.3]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "elevator-frame",
			"renderable": "box",
			"transform": {
				"scale": [4, 1.1, 0.2],
				"translate": [0, 4.5, -0.4]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "elevator-frame",
			"renderable": "box",
			"transform": {
				"scale": [4, 0.1, 0.4],
				"translate": [0, 0.1, -0.3]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "elevator-frame",
			"renderable": "box",
			"transform": {
				"scale": [4, 0.1, 0.6],
				"translate": [0, 0.04, 0.15],
				"rotate": [10, 1, 0, 0]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "elevator-side",
			"renderable": "box",
			"transform": {
				"scale": [2, 6, 0.1],
				"translate": [-4, 3, -2]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "elevator-side",
			"renderable": "box",
			"transform": {
				"scale": [2, 6, 0.1],
				"translate": [4, 3, -2]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "elevator-spoke-extension",
			"renderable": "box",
			"transform": {
				"scale": [6, 1, 5],
				"translate": [3, 3, -2.5],
				"rotate": [90, 0, 0, 1]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		{
			"__comment": "elevator-spoke-extension",
			"renderable": "box",
			"transform": {
				"scale": [6, 1, 5],
				"translate": [-3, 3, -2.5],
				"rotate": [90, 0, 0, 1]
			},
			"physics": {
				"model": "box",
				"dynamic": false
			}
		},
		<%- include('prefab/slide_door', {
			scene: 'blackhole1',
			name: 'elevator_door',
			translate: [0, 0.1, -0.33],
			rotate: [90, 0, 1, 0],
			scale: [1, 1.5, 2.3]
		}) %>,
		{
			"name": "flashlight_button",
			"transform": {
				"translate": [4.95, 1.1, 1.5]
			},
			"script": {
				"prefab": "template",
				"parameters": {
					"source": "button"
				}
			}
		},
		{
			"name": "flashlight_button.button",
			"event_bindings": {
				"/button/press": [
					{
						"target": "console:input/action/run_command",
						"set_value": "togglesignal player:flashlight/on 1"
					}
				]
			}
		},
		{
			"name": "global:transition1-2",
			"transform": {
				"translate": [5, 1.25, 0.25]
			},
			"scene_connection": "blackhole2",
			"signal_bindings": {
				"load_scene_connection": "zone/trigger_player_count"
			}
		},
		{
			"name": "global:transition5-1",
			"transform": {
				"translate": [-5, 1.25, 0.25]
			},
			"scene_connection": "blackhole5",
			"signal_bindings": {
				"load_scene_connection": "zone/trigger_player_count"
			}
		},
		{
			"name": "global:transition1-center",
			"transform": {
				"translate": [0, 0, -3.5],
				"rotate": [180, 0, 1, 0]
			},
			"scene_connection": "station-center",
			"signal_bindings": {
				"load_scene_connection": "zone/trigger_player_count"
			}
		},
		{
			"name": "global:spawn",
			"transform": {
				"translate": [0, 0.05, 2]
			}
		},
		<%- include('prefab/spotlight', {
			name: 'elevator_side_light1',
			tint: [1, 0.5, 0.5],
			intensity: 300,
			spotAngle: 50,
			translate: [-4.9, 4.5, -0.5],
			rotate: [[-120, 1, 1, 0]]
		}) %>,
		<%- include('prefab/spotlight', {
			name: 'elevator_side_light2',
			tint: [1, 0.5, 0.5],
			intensity: 300,
			spotAngle: 50,
			translate: [4.9, 4.5, 3],
			rotate: [[-50, 1, -1, 0]]
		}) %>,
		{
			"name": "global:station-center",
			"renderable": "box",
			"transform": {
				"translate": [0, 150, 0],
				"rotate": [45, 0, 0, 1]
			},
			"script": {
				"onTick": "rotate",
				"parameters": {
					"axis_z": 1,
					"speed": 1.5
				}
			}
		},
		{
			"name": "global:blackhole",
			"renderable": "box",
			"transform": {
				"parent": "global:station-center",
				"translate": [30, -50, -100],
				"scale": [200, 200, 10]
			}
		},
		{
			"name": "global:black-hole-center",
			"light": {
				"tint": [1, 1, 1],
				"intensity": -4000,
				"spotAngle": 25,
				"shadowMapSize": 11,
				"shadowMapClip": [0.1, 256]
			},
			"transform": {
				"parent": "global:blackhole",
				"translate": [0, 0, 10]
			}
		},
		{
			"name": "global:black-hole-halo",
			"light": {
				"tint": [1, 1, 1],
				"intensity": 2000,
				"spotAngle": 30,
				"shadowMapSize": 11,
				"shadowMapClip": [0.1, 256]
			},
			"transform": {
				"parent": "global:blackhole",
				"translate": [0, 0, 10]
			}
		}
	]
}
